<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <title>Visualized Indoor Occupancy Detection System</title>
   <script src="http://d3js.org/d3.v3.js" charset="utf-8"></script>
   <!--<script src="https://d3js.org/d3.v3.min.js"></script>
    <style> /* set the CSS */
        body { font: 12px Arial;}

        path {
            stroke: steelblue;
            stroke-width: 2;
            fill: none;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: grey;
            stroke-width: 1;
            shape-rendering: crispEdges;
        }
    </style>-->
</head>

<body>
    <h1><center>Web Portal for Data Visualization testing</center></h1>

    <div id="chartContainer">
        <canvas id="chart_1" width="800" height="300"></canvas> data source: <input name="number">
        <br>
        <canvas id="chart_2" width="800" height="300"></canvas>
        <br>
        Occupied by Humans: <input autocomplete="off" id="occupied" type="text" readonly="readonly" value="Yes" >
    </div>

    <div id="chart1"></div>

    <script src="multiline.js" charset="utf-8"></script>


<!--
    <script>

        d3.csv("/data/data_stored.csv")
            .row(function(d){ return { time:parseTime(d.time),source:d.source1};})
            .get(function(error,data){

              var height = 400;
              var width = 600;

              var maxValue = d3.max(data,function(d){ return d.source1; });
              var maxTime = d3.max(data,function(d){ return d.time; });
              var minTime = d3.min(data,function(d){ return d.time; });
              console.log(maxValue);
              console.log(maxTime);
              console.log(minTime);
            })

    </script>

   <script src="script.js"></script>
    <script>
    var lineArr = [];
    var MAX_LENGTH = 100;
    var duration = 500;
    var chart = realTimeLineChart();

    function randomNumberBounds(min, max) {
      return Math.floor(Math.random() * max) + min;
    }

    function seedData() {
      var now = new Date();
      for (var i = 0; i < MAX_LENGTH; ++i) {
        lineArr.push({
          time: new Date(now.getTime() - ((MAX_LENGTH - i) * duration)),
          x: randomNumberBounds(0, 5),
          y: randomNumberBounds(0, 2.5),
          z: randomNumberBounds(0, 10)
        });
      }
    }

    function updateData() {
      var now = new Date();

      var lineData = {
        time: now,
        x: randomNumberBounds(0, 5),
        y: randomNumberBounds(0, 2.5),
        z: randomNumberBounds(0, 10)
      };
      lineArr.push(lineData);

      if (lineArr.length > 30) {
        lineArr.shift();
      }
      d3.select("#chart").datum(lineArr).call(chart);
    }

    function resize() {
      if (d3.select("#chart svg").empty()) {
        return;
      }
      chart.width(+d3.select("#chart").style("width").replace(/(px)/g, ""));
      d3.select("#chart").call(chart);
    }

    document.addEventListener("DOMContentLoaded", function() {
      seedData();
      window.setInterval(updateData, 500);
      d3.select("#chart").datum(lineArr).call(chart);
      d3.select(window).on('resize', resize);
    });
    </script>
-->
</body>
</html>
